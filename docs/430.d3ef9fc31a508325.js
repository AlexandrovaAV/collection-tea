"use strict";(self.webpackChunk_9_ControlWork_tea2=self.webpackChunk_9_ControlWork_tea2||[]).push([[430],{430:(T,d,i)=>{i.r(d),i.d(d,{ProductsModule:()=>Z});var p=i(6895),s=i(646),t=i(8256),l=i(2340),f=i(529);let a=(()=>{class o{constructor(e){this.http=e}getProducts(){return this.http.get(l.N.api+"tea")}getProduct(e){return this.http.get(l.N.api+`tea?id=${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const g=function(o){return["/catalog",o]},h=function(o){return{product:o}};function x(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",5)(2,"a",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8)(5,"h5",9),t._uU(6),t.qZA(),t.TgZ(7,"p",10),t._uU(8),t.qZA(),t.TgZ(9,"div",11)(10,"a",12),t._uU(11,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA(),t.TgZ(12,"button",13),t._uU(13),t.qZA()()()()()),2&o){const e=r.$implicit;t.xp6(2),t.s9C("title",e.title),t.xp6(1),t.s9C("src",e.image,t.LSH),t.s9C("alt",e.title),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("routerLink",t.VKq(8,g,e.id)),t.xp6(2),t.Q6J("queryParams",t.VKq(10,h,e.title)),t.xp6(1),t.hij("",e.price,"\u20bd")}}const y=["description"],P=function(o){return{product:o}},C=[{path:"",component:(()=>{class o{constructor(e,n){this.productsService=e,this.router=n,this.products=[],this.subscriptionProducts=null}ngOnInit(){this.subscriptionProducts=this.productsService.getProducts().subscribe({next:e=>{this.products=e},error:e=>{console.log(e),this.router.navigate(["/"])}})}ngOnDestroy(){this.subscriptionProducts?.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["catalog-component"]],decls:5,vars:1,consts:[[1,"container","py-5"],[1,"fs-3","text-center","fw-bold","text-black","pt-5","py-md-0"],[1,"row","justify-content-between","py-4","px-4","px-md-0"],["class","px-2 col-xl-4 col-md-6 mb-3",4,"ngFor","ngForOf"],[1,"px-2","col-xl-4","col-md-6","mb-3"],[1,"card"],[1,"card-img-top",3,"title"],[1,"card-img-top",3,"src","alt"],[1,"card-body","d-flex","flex-column","justify-content-between"],[1,"card-title","text-black","fw-bold"],[1,"card-text","text-black"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"hvr-shrink","btn","btn-primary",3,"routerLink"],["type","button","routerLink","/order",1,"btn","btn-outline-success","fs-5","py-1","px-3","m-0",3,"queryParams"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2,"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,x,14,12,"div",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",n.products))},dependencies:[p.sg,s.rH,s.yS],styles:[".card-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),o})()},{path:":id",component:(()=>{class o{constructor(e,n,c){this.productService=e,this.router=n,this.activatedRoute=c,this.product={description:"",id:0,image:"",price:0,title:""}}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e.id&&this.productService.getProduct(+e.id).subscribe({next:n=>{this.product=n,this.changeText()},error:n=>{console.log(n),this.router.navigate(["/"])}})})}changeText(){const e=this.product.description.split("P.S.");let n;if(this.product.description.includes("P.S."+e[1])?(n=this.product.description.split("P.S."+e[1],this.product.description.split("P.S."+e[1]).length-1)[0],n=n.split("."),n.pop()):(n=this.product.description.split("."),n.pop()),n)for(let c=0;c<n.length;c++){let u=document.createElement("span");u.innerText=n[c]+".",u.classList.add("fst-italic"),u.classList.add("lh-sm"),u.classList.add("text-danger-emphasis"),u.style.textIndent="20px",this.desc.nativeElement.appendChild(u)}if(e.length>1){let c=document.createElement("span");c.innerText="P.S. "+e[1],c.classList.add("fst-italic"),c.classList.add("text-dark"),this.desc.nativeElement.appendChild(c)}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a),t.Y36(s.F0),t.Y36(s.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["product-component"]],viewQuery:function(e,n){if(1&e&&t.Gf(y,5),2&e){let c;t.iGM(c=t.CRH())&&(n.desc=c.first)}},decls:10,vars:8,consts:[[1,"container","py-5","d-flex","flex-column","justify-content-center","align-items-center"],[1,"text-black","fw-bold","fs-1","mb-5","text-center"],[1,"row","align-items-center"],[1,"text-black","col-7","d-flex","flex-column"],["description",""],[1,"col-5",3,"title"],[1,"card-img-top","w-100",3,"src","alt"],["type","button","routerLink","/order",1,"btn","btn-outline-success","fs-4","py-2","px-5","m-0",3,"queryParams"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"p",3,4),t.TgZ(6,"a",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"button",7),t._uU(9),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.product.title),t.xp6(4),t.s9C("title",n.product.title),t.xp6(1),t.s9C("src",n.product.image,t.LSH),t.s9C("alt",n.product.title),t.xp6(1),t.Q6J("queryParams",t.VKq(6,P,n.product.title)),t.xp6(1),t.hij("\u041a\u0443\u043f\u0438\u0442\u044c | ",n.product.price,"\u20bd"))},dependencies:[s.rH],encapsulation:2}),o})()}];let m=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(C),s.Bz]}),o})();var b=i(4466);let Z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,b.m,m,m]}),o})()}}]);